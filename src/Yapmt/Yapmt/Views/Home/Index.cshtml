@model Yapmt.ViewModels.HomeViewModel

@{
    ViewBag.Title = "Home Page";
}

<script>

    $(function () {        
        $("#deleteProject").click(function () {
            var data = window.projectToDeleteId;

            $.post("/Project/Delete", { id: data },
                function () { location.reload(); });
        });

               
    });

    function setProjectToDelete(id) {
        window.projectToDeleteId = id;
    } 
    
</script>

<div class="jumbotron">
    <h1>Projects</h1>
</div>

<div class="row">
    @foreach (var project in Model.Projects)
    {
        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 tile-box">
            <div class="project-tile">
                <a class="project-delete" onclick="setProjectToDelete(@project.Id);" href="#" data-toggle="modal" data-target="#delProjModal">
                    <span class="glyphicon glyphicon-trash"></span>
                </a>
                <a class="project-link" href="/Project/Index/@project.Id" >@project.Name</a>
            </div>
        </div>
    }
</div>

<!-- Modal New Project-->
<div class="modal fade" id="delProjModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Project</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Are You sure you want to delete this project?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" id="deleteProject" class="btn btn-primary">Delete</button>
            </div>
        </div>
    </div>
</div>